<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="210mm"
   height="297mm"
   viewBox="0 0 210 297"
   version="1.1"
   id="svg1"
   inkscape:version="1.4.2 (f4327f4, 2025-05-13)"
   sodipodi:docname="diagram_2026-02-13_num2.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#999999"
     borderopacity="1"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="mm"
     inkscape:zoom="0.71891835"
     inkscape:cx="389.47399"
     inkscape:cy="645.41404"
     inkscape:window-width="1150"
     inkscape:window-height="1000"
     inkscape:window-x="953"
     inkscape:window-y="0"
     inkscape:window-maximized="0"
     inkscape:current-layer="layer1" />
  <defs
     id="defs1" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="36.114498"
       y="45.495869"
       id="text1-8"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="45.495869"
         id="tspan22">handler:</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="49.464619"
         id="tspan3">    load_pt(&quot;event&quot;)</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="53.433369"
         id="tspan4">    project_to(&quot;w&quot;)</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="57.402119"
         id="tspan5">    cmp_spatial[eid] = pos</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="61.370869"
         id="tspan6">    sync_all()</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="36.114498"
       y="89.41674"
       id="text1-8-96"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="89.41674"
         id="tspan6-5">def compute_component_layout(card):</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="93.38549"
         id="tspan39">    title_height = TITLE_BAR_HEIGHT</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="97.35424"
         id="tspan40">    port_spacing = PORT_SPACING</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="101.32299"
         id="tspan41">    num_in = len(card[&quot;channels&quot;][&quot;in&quot;])</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="105.29174"
         id="tspan42">    num_out = len(card[&quot;channels&quot;][&quot;out&quot;])</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="109.26049"
         id="tspan43"></tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="113.22924"
         id="tspan44">    body_height = max(num_in, num_out) * port_spacing</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="117.19799"
         id="tspan45">    total_height = title_height + body_height</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="121.16674"
         id="tspan46">    width = FIXED_WIDTH or compute_from_text()</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="125.13549"
         id="tspan47"></tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="129.10423"
         id="tspan48">    return width, total_height</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="133.07298"
         id="tspan49" /></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="36.114498"
       y="153.44592"
       id="text1-8-96-93"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="153.44592"
         id="tspan49-2">ek_to_tag(element_key) -&gt; str</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="157.41467"
         id="tspan90">tag_to_ek(tag) -&gt; element_key</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="161.38342"
         id="tspan89">ex: &quot;ek|comp|17|title&quot;</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="125.91137"
       y="173.89468"
       id="text95"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="125.91137"
         y="173.89468"
         id="tspan94">element-key tag:</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="125.91137"
         y="177.86343"
         id="tspan95">&quot;ek|comp|17|title&quot;</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="106.88161"
       y="185.54216"
       id="text1-8-96-93-3"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="106.88161"
         y="185.54216"
         id="tspan89-2">grouping tag:</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="106.88161"
         y="189.51091"
         id="tspan93">&quot;entity|17&quot;</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="105.50475"
       y="155.64496"
       id="text1-8-96-93-3-7"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="105.50475"
         y="155.64496"
         id="tspan89-2-5">kind tag:</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="105.50475"
         y="159.61371"
         id="tspan93-00">&quot;kind|component&quot;</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="98.494812"
       y="195.92204"
       id="text1-8-96-93-3-0"><tspan
         sodipodi:role="line"
         style="font-style:italic;stroke-width:0.264583"
         x="98.494812"
         y="195.92204"
         id="tspan93-0">the grouping tag helps</tspan><tspan
         sodipodi:role="line"
         style="font-style:italic;stroke-width:0.264583"
         x="98.494812"
         y="199.89079"
         id="tspan96">identify the owning component</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="139.02322"
       y="182.29509"
       id="text1-8-96-93-3-0-8"><tspan
         sodipodi:role="line"
         style="font-style:italic;stroke-width:0.264583"
         x="139.02322"
         y="182.29509"
         id="tspan93-0-3">the element-key uniquely</tspan><tspan
         sodipodi:role="line"
         style="font-style:italic;stroke-width:0.264583"
         x="139.02322"
         y="186.26384"
         id="tspan96-1">identifies the canvas object</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="104.27526"
       y="163.78421"
       id="text1-8-96-93-3-0-5"><tspan
         sodipodi:role="line"
         style="font-style:italic;stroke-width:0.264583"
         x="104.27526"
         y="163.78421"
         id="tspan96-4">the kind tag makes it possible to locate al</tspan><tspan
         sodipodi:role="line"
         style="font-style:italic;stroke-width:0.264583"
         x="104.27526"
         y="167.75296"
         id="tspan98">component elements at once</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="69.924973"
       y="179.75272"
       id="text1-8-96-93-9"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="69.924973"
         y="179.75272"
         id="tspan89-3">canvas item_id</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="36.114498"
       y="232.29108"
       id="text1-8-96-9"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="232.29108"
         id="tspan49-6">wire_id = (</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="236.25983"
         id="tspan60">    source_inbox,</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="240.22858"
         id="tspan61">    source_channel,</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="244.19733"
         id="tspan62">    dest_inbox,</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="248.16608"
         id="tspan63">    dest_channel</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="252.13483"
         id="tspan64">)</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="256.10358"
         id="tspan65" /></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="36.114498"
       y="259.8075"
       id="text1-8-96-9-4"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="259.8075"
         id="tspan65-3">cmp_wire_style[wire_id] = {</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="263.77625"
         id="tspan71">    &quot;routing_mode&quot;: &quot;straight&quot; | &quot;orthogonal&quot; | &quot;curved&quot;,</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="267.745"
         id="tspan72">    &quot;control_points&quot;: [...],</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="271.71375"
         id="tspan73">}</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="36.114498"
         y="275.6825"
         id="tspan74" /></text>
    <text
       xml:space="preserve"
       style="font-size:6.35px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="22.447281"
       y="35.646587"
       id="text1-7"><tspan
         sodipodi:role="line"
         id="tspan1-7"
         style="font-size:6.35px;stroke-width:0.264583"
         x="22.447281"
         y="35.646587">Placement</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:6.35px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="22.447281"
       y="80.096626"
       id="text1-7-7"><tspan
         sodipodi:role="line"
         id="tspan1-7-2"
         style="font-size:6.35px;stroke-width:0.264583"
         x="22.447281"
         y="80.096626">Layout</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:6.35px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="22.447281"
       y="142.5383"
       id="text1-7-7-7"><tspan
         sodipodi:role="line"
         id="tspan1-7-2-5"
         style="font-size:6.35px;stroke-width:0.264583"
         x="22.447281"
         y="142.5383">Element Keys</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:6.35px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="22.447281"
       y="209.74194"
       id="text1-7-7-5"><tspan
         sodipodi:role="line"
         id="tspan1-7-2-0"
         style="font-size:6.35px;stroke-width:0.264583"
         x="22.447281"
         y="209.74194">Wires</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:end;writing-mode:lr-tb;direction:ltr;text-anchor:end;fill:#000000;stroke-width:0.264583"
       x="197.00035"
       y="17.56175"
       id="text1-8-6"><tspan
         sodipodi:role="line"
         style="text-align:end;text-anchor:end;stroke-width:0.264583"
         x="197.00035"
         y="17.56175"
         id="tspan22-8">title: (Feature Development) pg2</tspan><tspan
         sodipodi:role="line"
         style="text-align:end;text-anchor:end;stroke-width:0.264583"
         x="197.00035"
         y="21.5305"
         id="tspan7">written: 2026-02-13</tspan><tspan
         sodipodi:role="line"
         style="text-align:end;text-anchor:end;stroke-width:0.264583"
         x="197.00035"
         y="25.49925"
         id="tspan26">chat-gpt: https://chatgpt.comc/69817e93-df78-8331-846e-2d95e7dfab7f</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="22.732534"
       y="217.93411"
       id="text1-8-8"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="22.732534"
         y="217.93411"
         id="tspan22-2">* Wires are NOT ECS Entities  (not primary identity objects in the system)</tspan><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="22.732534"
         y="221.90286"
         id="tspan77">  - they are projects of router state (logical topology)</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:3.175px;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#000000;stroke-width:0.264583"
       x="22.732534"
       y="148.08505"
       id="text1-8-8-7"><tspan
         sodipodi:role="line"
         style="stroke-width:0.264583"
         x="22.732534"
         y="148.08505"
         id="tspan77-4">Element keys are tags used to refer to items on the canvas, rather than canvas item_ids.</tspan></text>
    <path
       style="font-variation-settings:normal;vector-effect:none;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.265;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000"
       d="m 95.324452,180.51949 10.015268,3.93736"
       id="path92"
       sodipodi:nodetypes="cc" />
    <path
       style="font-variation-settings:normal;vector-effect:none;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.265;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000"
       d="m 95.45457,178.56772 25.23461,-5.45348"
       id="path32"
       sodipodi:nodetypes="cc" />
    <path
       style="font-variation-settings:normal;vector-effect:none;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.265;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000"
       d="M 83.708099,175.38514 103.42226,159.99486"
       id="path32-5"
       sodipodi:nodetypes="cc" />
  </g>
</svg>
